{% extends 'base.html' %}
{% block title %}Available Controllers{% endblock %}


{% block body %}
    <div class= "container">
        <h1>Available {{deck}} Controllers
        {% if not deck == "Deck" %}
            <a class="btn btn-secondary" href="{{ url_for('create_controller') }}">Create New</a>
            <br>
        {% endif %}

        </h1>


        {% for instrument in defined_variables %}
            <form role="form" method='GET' name="{{instrument}}" action='/controllers/{{instrument}}'>
                <div class="form-group">
                    <button type="submit" class="btn btn-dark" name="action" value="{{instrument}}" >{{instrument}}</button>
                </div>
            </form>
        {% endfor %}


<!--    import deck or API using filepath-->
        <div class= "container">
            {% if deck == "Deck" %}
            <p>Import deck from file explorer:</p>
            <form method="POST" action="/import_deck" enctype="multipart/form-data">
                <input type="text" name="filepath" required="required">
                <input class="btn btn-dark" type="submit">
            </form>
            {% endif %}


            {% if deck == "" %}
            <p>No available constrollers?</p>
            <a>Import Python API from file explorer:</a>
            <form method="POST" action="/import_api" enctype="multipart/form-data">
                <input type="text" name="filepath" required="required">
                <input class="btn btn-dark" type="submit" value="Initiate">
            </form>
            {% endif %}
        </div>

    </div>
{% endblock %}
