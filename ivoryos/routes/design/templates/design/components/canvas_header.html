{# Canvas header component #}
<div class="d-flex align-items-center ">
    {# file dropdown menu    #}
    <ul class="nav nav-tabs">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">File tools <i class="bi bi-tools"></i></a>
            <ul class="dropdown-menu">
                <button class="dropdown-item" type="button" data-bs-toggle="modal" data-bs-target="#newScriptModal">New</button>
                <button class="dropdown-item" type="button" data-bs-toggle="modal" data-bs-target="#jsonModal">Import (.json <i class="bi bi-filetype-json"></i>)</button>
                <button class="dropdown-item" type="button" data-bs-toggle="modal" data-bs-target="#renameModal">Rename</button>
                <a role="button" class="dropdown-item {{'disabled' if not script.name or script.status == 'finalized'}}" type="button" href="{{url_for('database.publish')}}">Save</a></li>
                <button class="dropdown-item" type="button" data-bs-toggle="modal" data-bs-target="#saveasModal">Save as</button>
                {% if not script.status == 'finalized' %}
                    <a role="button" class="dropdown-item" type="button" href="{{url_for('database.finalize')}}">Disable editing</a>
                {% endif %}
                <a  class="dropdown-item" role="button" type="button" href="{{url_for('design.design_files.download', filetype='script')}}">Export (.json <i class="bi bi-filetype-json"></i>)</a>
            </ul>
        </li>

        <li class="nav-item"><a class="nav-link" aria-current="page" data-bs-toggle="collapse" href="#info">Info</a></li>
        <li class="nav-item"><a class="{{'nav-link active' if script.editing_type=='prep' else 'nav-link'}}" aria-current="page" href="{{url_for('design.toggle_script_type', stype='prep') }}">Prep</a></li>
        <li class="nav-item"><a class="{{'nav-link active' if script.editing_type=='script' else 'nav-link'}}" aria-current="page" href="{{url_for('design.toggle_script_type', stype='script') }}">Experiment</a></li>
        <li class="nav-item"><a class="{{'nav-link active' if script.editing_type=='cleanup' else 'nav-link'}}" aria-current="page" href="{{url_for('design.toggle_script_type', stype='cleanup') }}">Clean up</a></li>
    </ul>
    <form method="POST" action="{{ url_for('design.toggle_show_code') }}" class="ms-3">
        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="showPythonCodeSwitch" name="show_code"
                   onchange="this.form.submit()" {% if session.get('show_code') %}checked{% endif %}>
            <label class="form-check-label" for="showPythonCodeSwitch">Show Python Code</label>
        </div>
    </form>

    <div class="form-check form-switch ms-auto">
        <input class="form-check-input" type="checkbox" id="toggleLineNumbers" onchange="toggleLineNumbers()">
        <label class="form-check-label" for="toggleLineNumbers">Show Line Numbers</label>
    </div>
</div> 